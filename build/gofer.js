(function(a,b,c,d){function e(a){if(typeof a=="string")log("implement find by #ID here...");else if(b.isPlainObject(a))e.settings=c.defaults(a,e.settings),e.init();else{if(!!a)throw new Error("invalid arguments");e.init()}}function g(a,b){var d=c.reject(a,function(a){return a===b});return d.length===a.length?a.push(b):a=d,a}e.settings={template:"./index.gofer",dataUrl:"/goferData",postUrl:"/",updateTemplateUrl:!1,container:"body",mode:"edit"},e.init=function(){require(["text!"+e.settings.template],function(a){e.tree=e.lexer(a),e.hook("domReady",function(){b("#gofer-submit").click(function(a){e.mode()})}),e.render()})},e.render=function(){var a=e.settings.mode,c=a==="edit"?'<input type="submit" id="gofer-submit">':"";b(e.settings.container).html(e.parser(e.tree.slice(),a)+c).promise().done(function(){e.hook("domReady")})},e.mode=function(a){if(!(!a||a in["edit","view"])){console.log("Invalid mode.\nValid modes: 'edit', 'view'");return}e.settings.mode=e.settings.mode==="edit"?"view":"edit",e.render()},e.tags={},e.registerTags=function(a){c.each(a,function(a,b){c.has(e.tags,b)||(e.tags[b]=a)})};var f=-1;e.id=function(){return"gofer"+ ++f},e.id.last=function(){return"gofer"+f};var h={};e.hook=function(a,b){b?h[a]=h[a]?g(h[a],b):[b]:c.each(h[a],function(b){b(a)})},e.value=function(a){function f(a){return a&&(c.each(d,function(b){a=b(a)}),b=a,c.each(e,function(a){a(b)})),b}var b=a,d=[],e=[];return c.extend(f,{modify:function(a){d=g(d,a)},subscribe:function(a){e=g(e,a)}}),f};var i={};e.helpers=function(a){if(!b.isPlainObject(a))return i[a];c.defaults(i,a)},e.helpers.overwrite=function(a){c.extend(i,a)},e.lexer=function(a){return c.map(a.split(/\{\{|\}\}/),function(a,d){if(d%2!==0){var f={temp:b.trim(a)},g={},h=f.temp.match(/\S+\(.*?\)|\S+=".*?"|\S+/g),i;f.name=h.shift();var j=f.name.match(/(.+?)\((.*?)\)/);return(i=f.name.match(/\/(.+)/))?(f.isClosingTag=!0,f.name=i[1],f):(j&&(f.name=j[1],g.param=j[2]),g.htmlAttributes="",c.each(h,function(a){var b;/#.+/.test(a)||((b=a.match(/(.+?)\((.*?)\)/))?g[b[1]]=b[2]:/.+?".*?"/.test(a)?g.htmlAttributes+=" "+a:g[a]=!0)}),f.object=new e.tags[f.name](g),f)}return a})},e.parser=function(a,b){function d(e,f){var g=a.pop();return c.isUndefined(g)?"":g.isClosingTag?d(g.name,""):e?e===g.name?d()+g.object[b](f):d(e,f+=c.isString(g)?g:g.object[b]()):d()+(c.isString(g)?g:g.object[b]())}return e.hook(b),d()},a.gofer=e})(window,jQuery,_),function(a,b,c,d,e){Input=function(a){this.id=d.id(),this.value=d.value(""),a.mix&&this.value.modify(d.helpers(a.mix)),this.hidden=a.hidden,this.note=a.note,a.required&&d.hook("submit",c.bind(function(){return this.value()===""},this)),d.hook("domReady",c.bind(function(){var a=b("#"+this.id).keyup(c.bind(function(){this.value(a.val())},this))},this))},c.extend(Input.prototype,{edit:function(){var a=(this.note?'<label class="gofer">'+this.note+"</label>":"")+'<input type="text" value="'+this.value()+'" id="'+this.id+'" class="gofer">';return a},view:function(){return this.hidden?"":this.value()}}),Note=function(){},c.extend(Note.prototype,{edit:function(a){return a},view:function(){return""}}),d.registerTags({input:Input,note:Note})}(window,jQuery,_,gofer),function(a,b,c,d){function e(a){if(typeof a=="string")log("implement find by #ID here...");else if(b.isPlainObject(a))e.settings=c.defaults(a,e.settings),e.init();else{if(!!a)throw new Error("invalid arguments");e.init()}}function f(a,b){var d=c.reject(a,function(a){return a===b});return d.length===a.length?a.push(b):a=d,a}e.settings={template:"./index.gofer",dataUrl:"/goferData",postUrl:"/",updateTemplateUrl:!1,container:"body",mode:"edit"},e.init=function(){require(["text!"+e.settings.template],function(a){e.tree=e.lexer(a),e.hook("domReady",function(){b("#gofer-submit").click(function(a){e.mode()})}),e.render()})},e.render=function(){var a=e.settings.mode,c=a==="edit"?'<input type="submit" id="gofer-submit">':"";b(e.settings.container).html(e.parser(e.tree.slice(),a)+c).promise().done(function(){e.hook("domReady")})},e.mode=function(a){if(!(!a||a in["edit","view"])){console.log("Invalid mode.\nValid modes: 'edit', 'view'");return}e.settings.mode=e.settings.mode==="edit"?"view":"edit",e.render()},e.tags={},e.registerTags=function(a){c.each(a,function(a,b){c.has(e.tags,b)||(e.tags[b]=a)})};var g=-1;e.id=function(){return"gofer"+ ++g},e.id.last=function(){return"gofer"+g};var h={};e.hook=function(a,b){b?h[a]=h[a]?f(h[a],b):[b]:c.each(h[a],function(b){b(a)})},e.value=function(a){function b(a){return a&&(c.each(e,function(b){a=b(a)}),d=a,c.each(g,function(a){a(d)})),d}var d=a,e=[],g=[];return c.extend(b,{modify:function(a){e=f(e,a)},subscribe:function(a){g=f(g,a)}}),b};var i={};e.helpers=function(a){if(!b.isPlainObject(a))return i[a];c.defaults(i,a)},e.helpers.overwrite=function(a){c.extend(i,a)},e.lexer=function(a){return c.map(a.split(/\{\{|\}\}/),function(a,d){if(d%2!==0){var f={temp:b.trim(a)},g={},h=f.temp.match(/\S+\(.*?\)|\S+=".*?"|\S+/g),i;f.name=h.shift();var j=f.name.match(/(.+?)\((.*?)\)/);return(i=f.name.match(/\/(.+)/))?(f.isClosingTag=!0,f.name=i[1],f):(j&&(f.name=j[1],g.param=j[2]),g.htmlAttributes="",c.each(h,function(a){var b;/#.+/.test(a)||((b=a.match(/(.+?)\((.*?)\)/))?g[b[1]]=b[2]:/.+?".*?"/.test(a)?g.htmlAttributes+=" "+a:g[a]=!0)}),f.object=new e.tags[f.name](g),f)}return a})},e.parser=function(a,b){function d(e,f){var g=a.pop();return c.isUndefined(g)?"":g.isClosingTag?d(g.name,""):e?e===g.name?d()+g.object[b](f):d(e,f+=c.isString(g)?g:g.object[b]()):d()+(c.isString(g)?g:g.object[b]())}return e.hook(b),d()},a.gofer=e}(window,jQuery,_),function(a,b,c,d,e){Input=function(a){this.id=d.id(),this.value=d.value(""),a.mix&&this.value.modify(d.helpers(a.mix)),this.hidden=a.hidden,this.note=a.note,a.required&&d.hook("submit",c.bind(function(){return this.value()===""},this)),d.hook("domReady",c.bind(function(){var a=b("#"+this.id).keyup(c.bind(function(){this.value(a.val())},this))},this))},c.extend(Input.prototype,{edit:function(){var a=(this.note?'<label class="gofer">'+this.note+"</label>":"")+'<input type="text" value="'+this.value()+'" id="'+this.id+'" class="gofer">';return a},view:function(){return this.hidden?"":this.value()}}),Note=function(){},c.extend(Note.prototype,{edit:function(a){return a},view:function(){return""}}),d.registerTags({input:Input,note:Note})}(window,jQuery,_,gofer),function(a,b,c,d){function e(a){if(typeof a=="string")log("implement find by #ID here...");else if(b.isPlainObject(a))e.settings=c.defaults(a,e.settings),e.init();else{if(!!a)throw new Error("invalid arguments");e.init()}}function g(a,b){var d=c.reject(a,function(a){return a===b});return d.length===a.length?a.push(b):a=d,a}e.settings={template:"./index.gofer",dataUrl:"/goferData",postUrl:"/",updateTemplateUrl:!1,container:"body",mode:"edit"},e.init=function(){require(["text!"+e.settings.template],function(a){e.tree=e.lexer(a),e.hook("domReady",function(){b("#gofer-submit").click(function(a){e.mode()})}),e.render()})},e.render=function(){var a=e.settings.mode,c=a==="edit"?'<input type="submit" id="gofer-submit">':"";b(e.settings.container).html(e.parser(e.tree.slice(),a)+c).promise().done(function(){e.hook("domReady")})},e.mode=function(a){if(!(!a||a in["edit","view"])){console.log("Invalid mode.\nValid modes: 'edit', 'view'");return}e.settings.mode=e.settings.mode==="edit"?"view":"edit",e.render()},e.tags={},e.registerTags=function(a){c.each(a,function(a,b){c.has(e.tags,b)||(e.tags[b]=a)})};var f=-1;e.id=function(){return"gofer"+ ++f},e.id.last=function(){return"gofer"+f};var h={};e.hook=function(a,b){b?h[a]=h[a]?g(h[a],b):[b]:c.each(h[a],function(b){b(a)})},e.value=function(a){function f(a){return a&&(c.each(d,function(b){a=b(a)}),b=a,c.each(e,function(a){a(b)})),b}var b=a,d=[],e=[];return c.extend(f,{modify:function(a){d=g(d,a)},subscribe:function(a){e=g(e,a)}}),f};var i={};e.helpers=function(a){if(!b.isPlainObject(a))return i[a];c.defaults(i,a)},e.helpers.overwrite=function(a){c.extend(i,a)},e.lexer=function(a){return c.map(a.split(/\{\{|\}\}/),function(a,d){if(d%2!==0){var f={temp:b.trim(a)},g={},h=f.temp.match(/\S+\(.*?\)|\S+=".*?"|\S+/g),i;f.name=h.shift();var j=f.name.match(/(.+?)\((.*?)\)/);return(i=f.name.match(/\/(.+)/))?(f.isClosingTag=!0,f.name=i[1],f):(j&&(f.name=j[1],g.param=j[2]),g.htmlAttributes="",c.each(h,function(a){var b;/#.+/.test(a)||((b=a.match(/(.+?)\((.*?)\)/))?g[b[1]]=b[2]:/.+?".*?"/.test(a)?g.htmlAttributes+=" "+a:g[a]=!0)}),f.object=new e.tags[f.name](g),f)}return a})},e.parser=function(a,b){function d(e,f){var g=a.pop();return c.isUndefined(g)?"":g.isClosingTag?d(g.name,""):e?e===g.name?d()+g.object[b](f):d(e,f+=c.isString(g)?g:g.object[b]()):d()+(c.isString(g)?g:g.object[b]())}return e.hook(b),d()},a.gofer=e}(window,jQuery,_),function(a,b,c,d,e){Input=function(a){this.id=d.id(),this.value=d.value(""),a.mix&&this.value.modify(d.helpers(a.mix)),this.hidden=a.hidden,this.note=a.note,a.required&&d.hook("submit",c.bind(function(){return this.value()===""},this)),d.hook("domReady",c.bind(function(){var a=b("#"+this.id).keyup(c.bind(function(){this.value(a.val())},this))},this))},c.extend(Input.prototype,{edit:function(){var a=(this.note?'<label class="gofer">'+this.note+"</label>":"")+'<input type="text" value="'+this.value()+'" id="'+this.id+'" class="gofer">';return a},view:function(){return this.hidden?"":this.value()}}),Note=function(){},c.extend(Note.prototype,{edit:function(a){return a},view:function(){return""}}),d.registerTags({input:Input,note:Note})}(window,jQuery,_,gofer);