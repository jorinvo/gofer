define(["jquery","value","helpers","hook","template"],function(a,b,c,d,e){function f(f){this.id=_.uniqueId("gofer"),this.data=b(""),this.data.modify(_.escape),this.dataOut=f.mix?function(){return c(f.mix)(this.data())}:this.data,this.hidden=f.hidden,this.note=f.note,f.required&&d("submit",_.bind(function(){return this.data()},this)),d("dom",_.bind(function(){var b=a("#"+this.id).on("keyup",_.bind(function(){this.data(b.val())},this))},this)),e("input",'<% if(note) { %>  <label class="gofer"><%= note %></label><% } %><input type="text" value="<%= data() %>" id="<%= id %>" class="gofer">')}return _.extend(f.prototype,{edit:function(){return e("input",this)},view:function(){return this.hidden?"":this.dataOut()}}),f})